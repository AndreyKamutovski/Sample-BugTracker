<h2 mat-dialog-title>Добавить проект</h2>
<mat-dialog-content>
    <form [formGroup]='addProjectForm' (ngSubmit)="addProject()" novalidate class="form-container">
        <mat-form-field>
            <input matInput type="text" name="projectName" placeholder="Название проекта" required minlength='3' formControlName='title'>
            <mat-error *ngIf="title.invalid && (title.dirty || title.touched)">
                <span *ngIf="title.hasError('required')">
                    Обязательно введите название проекта
                </span>
                <span *ngIf="title.hasError('minlength')">
                    Название проекта должно быть больше {{ title.errors.minlength.requiredLength }} символов. Вы ввели {{ title.errors.minlength.actualLength }} символа
                </span>
            </mat-error>
        </mat-form-field>

        <div formGroupName="datepickerGroup" class="horizontal-flex-container-for-two-datepicker">
            <mat-form-field>
                <input matInput [matDatepicker]="startDatepicker" placeholder="Дата начала" formControlName='dateStart'>
                <mat-datepicker-toggle matSuffix [for]="startDatepicker"></mat-datepicker-toggle>
                <mat-datepicker #startDatepicker></mat-datepicker>
                <mat-error *ngIf="dateStart.invalid && (dateStart.dirty || dateStart.touched)">
                    <span *ngIf="dateStart.hasError('required')">
                        Обязательно введите дату начала проекта
                    </span>
                </mat-error>
            </mat-form-field>

            <mat-form-field>
                <input matInput [matDatepicker]="endDatepicker" placeholder="Дата окончания" formControlName='dateEnd'>
                <mat-datepicker-toggle matSuffix [for]="endDatepicker"></mat-datepicker-toggle>
                <mat-datepicker #endDatepicker></mat-datepicker>
                <mat-error *ngIf="dateEnd.invalid && (dateEnd.dirty || dateEnd.touched)">
                    <span *ngIf="dateEnd.hasError('required')">
                        Обязательно введите запланированную дату окончания проекта
                    </span>
                </mat-error>
            </mat-form-field>

        </div>

        <div *ngIf="addProjectForm.hasError('date', 'datepickerGroup')">
            date invalid
            
            <!-- <span *ngIf="datepickerGroup.hasError('date')">
                date logic error
                {{datepickerGroup.errors.date.messageError}}}
            </span> -->
        </div>

        <mat-form-field>
            <textarea matInput class="form-control" name="projectDesc" id="descriptionProjectTextarea" rows="5" placeholder="Описание проекта"
                required minlength='10' formControlName='description'></textarea>
            <mat-error *ngIf="description.invalid && (description.dirty || description.touched)">
                <span *ngIf="description.hasError('required')">
                    Обязательно введите описание проекта
                </span>
                <span *ngIf="description.hasError('minlength')">
                    Описание проекта должно быть больше {{ description.errors.minlength.requiredLength }} символов. Вы ввели {{ description.errors.minlength.actualLength }} символа
                </span>
            </mat-error>
        </mat-form-field>
    </form>
</mat-dialog-content>

<mat-dialog-actions>
    <button mat-button mat-dialog-close>Отмена</button>
    <button mat-button type="submit">Добавить проект</button>
</mat-dialog-actions>